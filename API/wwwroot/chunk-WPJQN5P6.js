import{a as T}from"./chunk-Z4RGIFIT.js";import{a as v}from"./chunk-O3JVDQH2.js";import{a as _}from"./chunk-PSUWAX6J.js";import{o as I}from"./chunk-PT53JIWA.js";import"./chunk-S4RKVEPS.js";import"./chunk-VDIAIRGD.js";import"./chunk-IMZNUD52.js";import"./chunk-5LB5J5WN.js";import"./chunk-BRZQVLQ6.js";import"./chunk-J3BG4ZKK.js";import"./chunk-FXF7DOH7.js";import"./chunk-JJPOC4CD.js";import"./chunk-F2JFFDTT.js";import"./chunk-IJCGWU3B.js";import"./chunk-RGNDWIHZ.js";import"./chunk-J7DIVVOQ.js";import{n as p}from"./chunk-Y2G3PEDF.js";import{D as c,Hb as s,P as u,Rb as l,Sb as h,Tb as b,_b as S,gd as y,ma as g,mb as r,nb as C,sc as F,xa as d,ya as f,z as m}from"./chunk-5JFLDQZH.js";var D=(()=>{let t=class t{constructor(e){this.customerService=e,this.tableConfig={columnsToDisplay:["id","name","gender","phone","address","point","membershipRate"],dataSource:new I([]),pageIndex:0,pageSize:5,totalCustomers:0}}ngOnInit(){this.loadCustomers()}onPageEvent(e){this.tableConfig.pageIndex=e.pageIndex,this.tableConfig.pageSize=e.pageSize,this.loadCustomers()}onApplyFilter(e){let o=e.target.value;this.tableConfig.dataSource.filter=o.trim(),this.tableConfig.dataSource.paginator&&(this.tableConfig.dataSource.paginator.firstPage(),this.tableConfig.pageIndex=0)}loadCustomers(){this.customerService.getCustomers(this.tableConfig.pageIndex+1,this.tableConfig.pageSize).pipe(c(e=>(this.tableConfig.pageIndex=e.pageIndex-1,this.tableConfig.pageSize=e.pageSize,this.tableConfig.totalCustomers=e.count,e.data)),u(e=>(console.error("Error comes from: ",e),m([])))).subscribe(e=>{this.tableConfig.dataSource.data=e,this.tableConfig.dataSource._updateChangeSubscription()})}};t.\u0275fac=function(o){return new(o||t)(C(T))},t.\u0275cmp=d({type:t,selectors:[["app-customers"]],standalone:!0,features:[F],decls:3,vars:8,consts:[[1,"customers"],[3,"label","count","icon"],[3,"onPageChangeFromChild","onFilterFromChild","columnsToDisplay","dataSource","pageSize","pageIndex","count"]],template:function(o,a){o&1&&(l(0,"section",0),b(1,"app-stats-total-rows",1),l(2,"app-generic-table-data-source",2),S("onPageChangeFromChild",function(n){return a.onPageEvent(n)})("onFilterFromChild",function(n){return a.onApplyFilter(n)}),h()()),o&2&&(r(),s("label","T\u1ED5ng s\u1ED1 kh\xE1ch h\xE0ng")("count",a.tableConfig.totalCustomers)("icon","person"),r(),s("columnsToDisplay",a.tableConfig.columnsToDisplay)("dataSource",a.tableConfig.dataSource)("pageSize",a.tableConfig.pageSize)("pageIndex",a.tableConfig.pageIndex)("count",a.tableConfig.totalCustomers))},dependencies:[y,_,v]});let i=t;return i})();var P=[{path:"",component:D}],R=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=f({type:t}),t.\u0275inj=g({imports:[p.forChild(P),p]});let i=t;return i})();export{R as CustomersRoutingModule};
