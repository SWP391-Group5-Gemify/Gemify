import{f as Zt,g as L,h as ae,m as Qt,n as se,p as Wt,u as Xt}from"./chunk-Y2RE7ODT.js";import{d as Vt}from"./chunk-Q3IPZN2W.js";import{f as Gt,g as Ht,i as qt,j as Yt}from"./chunk-VSDKEZBR.js";import{a as Bt}from"./chunk-PG44M7GV.js";import{c as zt}from"./chunk-6WZ6ERAC.js";import{a as Et}from"./chunk-SJZSMRH2.js";import{a as Ot,b as At}from"./chunk-HXRZ6FVE.js";import{a as Pt,b as Rt,c as Nt,d as Ft,e as Tt,f as Lt,g as jt}from"./chunk-FJL2MCY3.js";import{h as Mt}from"./chunk-EMMCAKQR.js";import{h as Ut}from"./chunk-F4T2NXLS.js";import{a as v,b as y}from"./chunk-3LYTN6OR.js";import"./chunk-QVLUA4QC.js";import{b as St,c as oe}from"./chunk-VDIAIRGD.js";import{a as Dt}from"./chunk-V5J7M4I7.js";import{c as re}from"./chunk-IMZNUD52.js";import{a as R,b as It}from"./chunk-5LB5J5WN.js";import{a as kt}from"./chunk-R2WOP35W.js";import{a as wt}from"./chunk-J3BG4ZKK.js";import{a as yt,b as xt,g as _t,h as ne}from"./chunk-FXF7DOH7.js";import"./chunk-JJPOC4CD.js";import"./chunk-F2JFFDTT.js";import{b as mt,d as M,g as dt,h as J,i as ut,j as ge,k as K,m as ft,o as ht,q as gt,r as ee,s as te}from"./chunk-IJCGWU3B.js";import{c as bt,d as ve,g as ie,h as Ct,j as be}from"./chunk-RGNDWIHZ.js";import"./chunk-J7DIVVOQ.js";import{ba as vt,c as ot,d as rt,e as X,f as at,g as st,h as lt,i as ct,j as E,k as $,m as pt}from"./chunk-Y2G3PEDF.js";import{$c as tt,Aa as Le,Ba as de,Fa as je,Fb as _,Ga as ue,Ha as fe,Hb as h,Ib as G,Jc as et,Kb as Ge,Lb as He,Mb as P,N as Ae,Qa as ze,Rb as s,Sb as a,Tb as u,Tc as Z,Ub as qe,V as Pe,Vb as Ye,X as Re,Xb as Ze,Ya as T,Yc as Q,_b as S,a as Ie,ac as x,ad as W,b as we,bc as Qe,cc as We,cd as it,dc as he,dd as nt,fa as Ne,fc as Xe,gc as $e,gd as I,hc as Je,i as De,ia as Fe,ib as Ue,jb as Be,jc as c,kc as p,la as D,lc as H,ma as pe,mb as l,n as Ee,nb as d,o as ke,oa as Te,ob as Ve,qb as z,ra as A,rc as Ke,sa as C,sb as U,sc as g,ub as B,v as Oe,vb as V,wc as q,xa as f,xc as Y,ya as me}from"./chunk-5JFLDQZH.js";function gi(n,e){if(n&1&&(s(0,"mat-error"),c(1),a()),n&2){let o=x();l(),p(o.updateErrorMessage("userName"))}}function vi(n,e){if(n&1&&(s(0,"mat-error"),c(1),a()),n&2){let o=x();l(),p(o.updateErrorMessage("password"))}}var ye=(()=>{let e=class e{constructor(t,i,r,m){this.formBuilder=t,this.authService=i,this.notificationService=r,this.router=m,this.contact={text:"If you forgot your password. Please contact admin",number:"0909 312 423"}}ngOnInit(){this.loadCurrentExistingUserSession(),this.signInForm=this.formBuilder.group({userName:new ge("",M.compose([M.required,M.minLength(4),M.maxLength(32),M.pattern(/^[a-z]{4,32}$/i)])),password:new ge("",M.compose([M.required,M.minLength(8),M.maxLength(15),M.pattern(/^(?=.*\d).{8,15}$/)]))})}loadCurrentExistingUserSession(){this.authService.token&&this.authService.getCurrentUserProfile().subscribe({next:t=>{this.authService.currentUser.set(t),this.redirectToDashboardPath(this.authService.currentUser()?.role)},error:t=>{console.error(t)}})}updateErrorMessage(t){let i=this.signInForm.get(t),r="";switch(!0){case i?.hasError("required"):r="B\u1EA1n ph\u1EA3i nh\u1EADp tr\u01B0\u1EDDng n\xE0y";break}return r}login(){this.signInForm.valid&&this.authService.login(this.signInForm.value).subscribe({next:t=>{this.redirectToDashboardPath(t.role)},error:t=>{this.notificationService.show(t.error.message)}})}redirectToDashboardPath(t){let i="";switch(t){case v.StoreOwner:{i="/store-owner";break}case v.StoreManager:{i="/store-manager";break}case v.Cashier:{i="/cashier";break}case v.Repurchaser:{i="/repurchaser";break}case v.Seller:{i="/seller";break}default:{i="/";break}}this.router.navigate([i])}};e.\u0275fac=function(i){return new(i||e)(d(gt),d(y),d(Dt),d(E))},e.\u0275cmp=f({type:e,selectors:[["app-login"]],standalone:!0,features:[g],decls:24,vars:3,consts:[["autocomplete","off",1,"login","form","form--centered",3,"formGroup"],[1,"form__heading","u-margin-bottom-medium"],[1,"form__input-control","u-margin-bottom-small"],["appearance","outline"],["matInput","","type","text","placeholder","T\xEAn ng\u01B0\u1EDDi d\xF9ng","formControlName","userName"],["type","password","matInput","","placeholder","M\u1EADt kh\u1EA9u","formControlName","password"],[1,"login__contact-group","u-margin-top-small"],[1,"btn","btn--primary-dark","btn--with-icon",3,"click"],["routerLink","/forgot-password",1,"btn","btn--primary-light","btn--with-icon"]],template:function(i,r){if(i&1&&(s(0,"form",0)(1,"h2",1),c(2,"\u0110\u0103ng nh\u1EADp"),a(),s(3,"div",2)(4,"mat-form-field",3)(5,"mat-label"),c(6,"Nh\u1EADp t\xEAn ng\u01B0\u1EDDi d\xF9ng"),a(),u(7,"input",4),_(8,gi,2,1,"mat-error"),a()(),s(9,"div",2)(10,"mat-form-field",3)(11,"mat-label"),c(12,"Nh\u1EADp m\u1EADt kh\u1EA9u"),a(),u(13,"input",5),_(14,vi,2,1,"mat-error"),a()(),s(15,"div",6)(16,"button",7),S("click",function(b){return r.login(),b.preventDefault()}),s(17,"mat-icon"),c(18,"login"),a(),c(19,"\u0110\u0103ng nh\u1EADp"),a(),s(20,"button",8)(21,"mat-icon"),c(22,"key"),a(),c(23,"Qu\xEAn m\u1EADt kh\u1EA9u"),a()()()),i&2){let m,b;h("formGroup",r.signInForm),l(8),P(8,(m=r.signInForm.get("userName"))!=null&&m.invalid?8:-1),l(6),P(14,(b=r.signInForm.get("password"))!=null&&b.invalid?14:-1)}},dependencies:[oe,St,_t,yt,xt,re,ne,Mt,ee,K,mt,dt,J,te,ft,ht,It,R,I,$],styles:['.login[_ngcontent-%COMP%]{min-width:30rem;max-width:40rem}.login__contact-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:3rem;height:7rem;width:100%;justify-content:space-between}.login__contact-group-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3px}.login__contact-text[_ngcontent-%COMP%]{font-size:1.4rem}.login__contact-number[_ngcontent-%COMP%]{font-size:3rem;font-weight:bolder;position:relative}.login__contact-number[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-5px;left:0;width:90%;height:3px;background-color:#343638}']});let n=e;return n})();var N=(n,e)=>{let o=C(y),t=C(E);return o.currentUser()?!0:(t.navigate(["login"]),!1)};var F=(n,e)=>{let o=C(E),t=C(y),i=n.data.role,r=t.belongToAnyRoles(i);return r||o.navigate(["unauthorized"]),!!r};var j=(()=>{let e=class e{constructor(t,i){this.router=t,this.routeLocation=i}ngOnInit(){this.errorData=this.router.snapshot.data}onGoBack(){this.routeLocation.back()}};e.\u0275fac=function(i){return new(i||e)(d(lt),d(Q))},e.\u0275cmp=f({type:e,selectors:[["app-page-error"]],standalone:!0,features:[g],decls:7,vars:2,consts:[[1,"page-error"],[1,"page-error__status-code"],[1,"page-error__message"],[1,"btn","btn--primary",3,"click"]],template:function(i,r){i&1&&(s(0,"section",0)(1,"h2",1),c(2),a(),s(3,"p",2),c(4),a(),s(5,"a",3),S("click",function(){return r.onGoBack()}),c(6,"Go back"),a()()),i&2&&(l(2),p(r.errorData.statusCode),l(2),p(r.errorData.msg))},styles:[".page-error[_ngcontent-%COMP%]{position:absolute;top:40%;left:50%;transform:translate(-50%,-50%);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:2rem}.page-error__status-code[_ngcontent-%COMP%]{font-size:14rem;font-family:CG Times Roman Bold;line-height:14rem}.page-error__message[_ngcontent-%COMP%]{font-size:2.4rem;color:#343638}"]});let n=e;return n})();var Kt=[{path:"",component:ye,pathMatch:"full"},{path:"login",component:ye},{path:"gold-chart",loadChildren:()=>import("./chunk-2O43U32R.js").then(n=>n.GoldChartRoutingModule)},{path:"forgot-password",loadChildren:()=>import("./chunk-TZNT3IHO.js").then(n=>n.ForgotPasswordRoutingModule)},{path:"reset-password",loadChildren:()=>import("./chunk-MBJZU55P.js").then(n=>n.ResetPasswordRoutingModule)},{path:"not-found",component:j,data:{statusCode:404,msg:"No resource was found"}},{path:"bad-request",component:j,data:{statusCode:400,msg:"You have made a Bad Request"}},{path:"server-error",component:j,data:{statusCode:500,msg:"Server is currently down"}},{path:"unauthorized",component:j,data:{statusCode:401,msg:"You are not authorized"}},{path:"store-owner",loadChildren:()=>import("./chunk-KIDB2LAH.js").then(n=>n.StoreOwnerRoutingModule),canActivate:[N,F],data:{role:[v.StoreOwner]}},{path:"store-manager",loadChildren:()=>import("./chunk-IH5X3MLL.js").then(n=>n.StoreManagerRoutingModule),canActivate:[N,F],data:{role:[v.StoreManager]}},{path:"cashier",loadChildren:()=>import("./chunk-4K6NXKKN.js").then(n=>n.CashierRoutingModule),canActivate:[N,F],data:{role:[v.Cashier]}},{path:"seller",loadChildren:()=>import("./chunk-JMIAWOMY.js").then(n=>n.SellerRoutingModule),canActivate:[N,F],data:{role:[v.Seller]}},{path:"repurchaser",loadChildren:()=>import("./chunk-OVEFOWFO.js").then(n=>n.RepurchaserRoutingModule),canActivate:[N,F],data:{role:[v.Repurchaser]}},{path:"**",redirectTo:"not-found",pathMatch:"full"}];var bi="@",Ci=(()=>{let e=class e{constructor(t,i,r,m,b){this.doc=t,this.delegate=i,this.zone=r,this.animationType=m,this.moduleImpl=b,this._rendererFactoryPromise=null,this.scheduler=C(z,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-7V7RB3JQ.js")).catch(i=>{throw new Fe(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:r})=>{this._engine=i(this.animationType,this.doc,this.scheduler);let m=new r(this.delegate,this._engine,this.zone);return this.delegate=m,m})}createRenderer(t,i){let r=this.delegate.createRenderer(t,i);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let m=new xe(r);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(b=>{let fi=b.createRenderer(t,i);m.use(fi)}).catch(b=>{m.use(r)}),m}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(i){Ve()},e.\u0275prov=D({token:e,factory:e.\u0275fac});let n=e;return n})(),xe=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let o of this.replay)o(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,o){return this.delegate.createElement(e,o)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,o){this.delegate.appendChild(e,o)}insertBefore(e,o,t,i){this.delegate.insertBefore(e,o,t,i)}removeChild(e,o,t){this.delegate.removeChild(e,o,t)}selectRootElement(e,o){return this.delegate.selectRootElement(e,o)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,o,t,i){this.delegate.setAttribute(e,o,t,i)}removeAttribute(e,o,t){this.delegate.removeAttribute(e,o,t)}addClass(e,o){this.delegate.addClass(e,o)}removeClass(e,o){this.delegate.removeClass(e,o)}setStyle(e,o,t,i){this.delegate.setStyle(e,o,t,i)}removeStyle(e,o,t){this.delegate.removeStyle(e,o,t)}setProperty(e,o,t){this.shouldReplay(o)&&this.replay.push(i=>i.setProperty(e,o,t)),this.delegate.setProperty(e,o,t)}setValue(e,o){this.delegate.setValue(e,o)}listen(e,o,t){return this.shouldReplay(o)&&this.replay.push(i=>i.listen(e,o,t)),this.delegate.listen(e,o,t)}shouldReplay(e){return this.replay!==null&&e.startsWith(bi)}};function ei(n="animations"){return B("NgAsyncAnimations"),de([{provide:U,useFactory:(e,o,t)=>new Ci(e,o,t,n),deps:[Z,X,V]},{provide:T,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var yi=(()=>{let e=class e extends se{constructor(t,i,r){super(t,i,r,C(z,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(A(Z),A(L),A(ae))},e.\u0275prov=D({token:e,factory:e.\u0275fac});let n=e;return n})();function xi(){return new Qt}function _i(n,e,o){return new Xt(n,e,o)}var ti=[{provide:ae,useFactory:xi},{provide:se,useClass:yi},{provide:U,useFactory:_i,deps:[X,se,V]}],Si=[{provide:L,useFactory:()=>new Wt},{provide:T,useValue:"BrowserAnimations"},...ti],kn=[{provide:L,useClass:Zt},{provide:T,useValue:"NoopAnimations"},...ti];function ii(){return B("NgEagerAnimations"),[...Si]}var ni=(n,e)=>{let t=C(y).token,i={};t&&(i.Authorization=`Bearer ${t}`),(n.method==="PUT"||n.method==="POST"||n.method==="PATCH")&&(i["Content-Type"]="application/json");let r=n.clone({setHeaders:i});return e(r)};var Mi=["overlay"],Ii=["*"];function wi(n,e){n&1&&u(0,"div")}function Di(n,e){if(n&1&&(s(0,"div"),_(1,wi,1,0,"div",6),a()),n&2){let o=x(2);Ge(o.spinner.class),G("color",o.spinner.color),l(),h("ngForOf",o.spinner.divArray)}}function Ei(n,e){if(n&1&&(u(0,"div",7),q(1,"safeHtml")),n&2){let o=x(2);h("innerHTML",Y(1,1,o.template),Ue)}}function ki(n,e){if(n&1&&(s(0,"div",2,0),_(2,Di,2,5,"div",3)(3,Ei,2,3,"div",4),s(4,"div",5),We(5),a()()),n&2){let o=x();G("background-color",o.spinner.bdColor)("z-index",o.spinner.zIndex)("position",o.spinner.fullScreen?"fixed":"absolute"),h("@.disabled",o.disableAnimation)("@fadeIn","in"),l(2),h("ngIf",!o.template),l(),h("ngIf",o.template),l(),G("z-index",o.spinner.zIndex)}}var Oi={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},_e={BD_COLOR:"rgba(51,51,51,0.8)",SPINNER_COLOR:"#fff",Z_INDEX:99999},Se="primary",O=class n{constructor(e){Object.assign(this,e)}static create(e){return!e?.template&&!e?.type&&console.warn(`[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component
        and ensure css is added to angular.json file`),new n(e)}},Me=(()=>{let e=class e{constructor(){this.spinnerObservable=new ke(null)}getSpinner(t){return this.spinnerObservable.asObservable().pipe(Ae(i=>i&&i.name===t))}show(t=Se,i){return new Promise((r,m)=>{setTimeout(()=>{i&&Object.keys(i).length?(i.name=t,this.spinnerObservable.next(new O(we(Ie({},i),{show:!0}))),r(!0)):(this.spinnerObservable.next(new O({name:t,show:!0})),r(!0))},10)})}hide(t=Se,i=10){return new Promise((r,m)=>{setTimeout(()=>{this.spinnerObservable.next(new O({name:t,show:!1})),r(!0)},i)})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),oi=new Te("NGX_SPINNER_CONFIG"),Ai=(()=>{let e=class e{constructor(t){this._sanitizer=t}transform(t){if(t)return this._sanitizer.bypassSecurityTrustHtml(t)}};e.\u0275fac=function(i){return new(i||e)(d(st,16))},e.\u0275pipe=Le({name:"safeHtml",type:e,pure:!0,standalone:!0});let n=e;return n})(),ri=(()=>{let e=class e{constructor(t,i,r,m){this.spinnerService=t,this.changeDetector=i,this.elementRef=r,this.globalConfig=m,this.disableAnimation=!1,this.spinner=new O,this.ngUnsubscribe=new Ee,this.setDefaultOptions=()=>{let{type:b}=this.globalConfig??{};this.spinner=O.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type??b,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor=_e.BD_COLOR,this.zIndex=_e.Z_INDEX,this.color=_e.SPINNER_COLOR,this.size="large",this.fullScreen=!0,this.name=Se,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}initObservable(){this.spinnerService.getSpinner(this.name).pipe(Ne(this.ngUnsubscribe)).subscribe(t=>{this.setDefaultOptions(),Object.assign(this.spinner,t),t.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(t){return t===this.elementRef.nativeElement.parentElement?!0:t.parentNode&&this.isSpinnerZone(t.parentNode)}ngOnChanges(t){for(let i in t)if(i){let r=t[i];if(r.isFirstChange())return;typeof r.currentValue<"u"&&r.currentValue!==r.previousValue&&r.currentValue!==""&&(this.spinner[i]=r.currentValue,i==="showSpinner"&&(r.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),i==="name"&&this.initObservable())}}getClass(t,i){this.spinner.divCount=Oi[t],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((m,b)=>b);let r="";switch(i.toLowerCase()){case"small":r="la-sm";break;case"medium":r="la-2x";break;case"large":r="la-3x";break;default:break}return"la-"+t+" "+r}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}};e.\u0275fac=function(i){return new(i||e)(d(Me),d(et),d(ze),d(oi,8))},e.\u0275cmp=f({type:e,selectors:[["ngx-spinner"]],viewQuery:function(i,r){if(i&1&&Xe(Mi,5),i&2){let m;$e(m=Je())&&(r.spinnerDOM=m.first)}},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},standalone:!0,features:[je,g],ngContentSelectors:Ii,decls:1,vars:1,consts:[["overlay",""],["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(i,r){i&1&&(Qe(),_(0,ki,6,12,"div",1)),i&2&&h("ngIf",r.spinner.show)},dependencies:[Ai,W,tt],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[bt("fadeIn",[Ct("in",ie({opacity:1})),be(":enter",[ie({opacity:0}),ve(300)]),be(":leave",ve(200,ie({opacity:0})))])]},changeDetection:0});let n=e;return n})(),ai=(()=>{let e=class e{static forRoot(t){return{ngModule:e,providers:[{provide:oi,useValue:t}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=me({type:e}),e.\u0275inj=pe({imports:[I]});let n=e;return n})();var li=(()=>{let e=class e{constructor(t){this.spinnerService=t,this.busyRequestCount=0}busy(){this.busyRequestCount++,this.spinnerService.show(void 0,{type:"ball-clip-rotate",bdColor:"rgba(255,255,255,0.7)",color:"#333333"})}idle(){this.busyRequestCount--,this.busyRequestCount<=0&&(this.busyRequestCount=0,this.spinnerService.hide())}};e.\u0275fac=function(i){return new(i||e)(A(Me))},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var ci=(n,e)=>{let o=C(li);return o.busy(),e(n).pipe(Et.production?De:Pe(250),Re(()=>o.idle()))};var pi={providers:[nt,pt(Kt),ei(),ii(),ot(rt([ni,ci])),Gt(()=>Ht(wt.firebaseConfig)),qt(()=>Yt())]};var le=(()=>{let e=class e{constructor(){this.logo={name:"Gemify"},this.classLogoSize=""}preventDefault(t){t.preventDefault()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=f({type:e,selectors:[["app-logo"]],inputs:{classLogoSize:"classLogoSize"},standalone:!0,features:[g],decls:3,vars:4,consts:[["href","#","target","_self",3,"click"]],template:function(i,r){i&1&&(s(0,"h1")(1,"a",0),S("click",function(b){return r.preventDefault(b)}),c(2),a()()),i&2&&(He("logo ",r.classLogoSize,""),l(2),p(r.logo.name))},dependencies:[I],styles:[".logo[_ngcontent-%COMP%]{display:inline-block;font-family:MajorMonoDisplay;font-weight:700;text-shadow:0 .5px 2px #fb923c;letter-spacing:5px;color:#ea580c}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:link, .logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:inherit}.logo--small[_ngcontent-%COMP%]{font-size:1.8rem}.logo--medium[_ngcontent-%COMP%]{font-size:3.2rem}.logo--big[_ngcontent-%COMP%]{font-size:5.2rem}"]});let n=e;return n})();var mi=(()=>{let e=class e{constructor(){this.currentYear=new Date().getFullYear()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=f({type:e,selectors:[["app-footer"]],standalone:!0,features:[g],decls:5,vars:2,consts:[[1,"footer"],[1,"footer__copyright"],[3,"classLogoSize"]],template:function(i,r){i&1&&(s(0,"footer",0)(1,"span",1)(2,"span"),c(3),a(),u(4,"app-logo",2),a()()),i&2&&(l(3),H("\xA9 Copyright ",r.currentYear," by"),l(),h("classLogoSize","logo--small"))},dependencies:[le],styles:[".footer[_ngcontent-%COMP%]{position:sticky;bottom:0;left:0;width:100%;background-color:#343638;color:#f8fafc;padding-left:2.4rem;z-index:10;line-height:5.5rem;border-top:2px solid #f97316}.footer__copyright[_ngcontent-%COMP%]{display:inline-block}.footer__copyright[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.1rem;margin-right:1rem;text-transform:uppercase;letter-spacing:1.4px}"]});let n=e;return n})();function Ri(n,e){if(n&1&&(qe(0),u(1,"img",6),s(2,"p",7),c(3),a(),s(4,"p",8),c(5),a(),s(6,"p",9),c(7),a(),s(8,"ul",10)(9,"li")(10,"p"),c(11),a()(),s(12,"li")(13,"p"),c(14),a()(),s(15,"li")(16,"p"),c(17),a()(),s(18,"li")(19,"p"),c(20),a()(),s(21,"li")(22,"p"),c(23),a()(),s(24,"li")(25,"p"),c(26),a()()(),Ye()),n&2){let o=e.ngIf;l(),h("src",o.image_Url,Be),l(2),p(o.fullName),l(2),p(o.userName),l(2),H("\u0110ang ",o.status,""),l(4),p(o.email),l(3),p(o.address),l(3),p(o.dateOfBirth),l(3),p(o.gender),l(3),p(o.phoneNumber),l(3),p(o.role)}}var k,ce=(k=class{constructor(e,o,t){this.modalConfigFromParent=e,this.modalRef=o,this.authService=t}ngOnInit(){this.loadCurrentUser()}loadCurrentUser(){this.currentUserInfo=this.authService.getCurrentUserProfile()}onCloseModal(){this.modalRef.close()}},k.\u0275fac=function(o){return new(o||k)(d(Rt),d(Pt),d(y))},k.\u0275cmp=f({type:k,selectors:[["app-modal-view-current-user"]],standalone:!0,features:[Ke([vt()]),g],decls:11,vars:5,consts:[[1,"form--modal","modal-profile",3,"ngSubmit"],["mat-dialog-title","",1,"form--modal__title"],[1,"form--modal__content","u-padding-top-small","u-padding-bottom-small"],[4,"ngIf"],[1,"form--modal__controls"],[1,"btn","btn--grad","btn--with-icon"],[1,"modal-profile__img",3,"src"],[1,"modal-profile__fullName"],[1,"modal-profile__userName"],[1,"modal-profile__status","mat-elevation-z2"],[1,"grid","grid--responsive","modal-profile__infors"]],template:function(o,t){o&1&&(s(0,"form",0),S("ngSubmit",function(){return t.onCloseModal()}),s(1,"h2",1),c(2),a(),s(3,"mat-dialog-content",2),_(4,Ri,27,10,"ng-container",3),q(5,"async"),a(),s(6,"mat-dialog-actions",4)(7,"button",5)(8,"mat-icon"),c(9,"cancel"),a(),c(10),a()()()),o&2&&(l(2),p(t.modalConfigFromParent.title),l(2),h("ngIf",Y(5,3,t.currentUserInfo)),l(6),p(t.modalConfigFromParent.closeButtonLabel))},dependencies:[I,W,it,ne,re,jt,Ft,Lt,Tt,ee,K,J,ut,oe,te,zt,Ut,R,Bt],styles:[".modal-profile__img[_ngcontent-%COMP%]{display:inline-block;margin:0 auto;width:25rem;height:25rem;background-color:green;border-radius:50%;object-fit:contain}.modal-profile__fullName[_ngcontent-%COMP%]{font-size:3.2rem;font-weight:900;align-self:center}.modal-profile__userName[_ngcontent-%COMP%]{font-size:2.4rem;align-self:center;font-style:italic}.modal-profile__status[_ngcontent-%COMP%]{display:inline-block;font-size:2.2rem;text-transform:uppercase;font-weight:bolder;align-self:center;background-color:#fb923c;color:#f5f5f4;padding:1.2rem 2.4rem;border-radius:1.2rem}.modal-profile__infors[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.8rem;background-color:#f5f5f4;padding:2.4rem}"]}),k);ce=Oe([kt()],ce);function Ni(n,e){if(n&1&&(s(0,"span",4),c(1),a(),u(2,"span",2)),n&2){let o,t=x();l(),p((o=t.authService.currentUser())==null?null:o.role)}}function Fi(n,e){if(n&1&&(s(0,"button",5)(1,"mat-icon"),c(2),a(),c(3),a(),s(4,"button",6)(5,"mat-icon"),c(6),a(),c(7),a()),n&2){let o=x();he("routerLink",o.navLinks.login.route),l(2),p(o.navLinks.login.icon),l(),p(o.navLinks.login.name),l(),he("routerLink",o.navLinks.goldChart.route),l(2),p(o.navLinks.goldChart.icon),l(),p(o.navLinks.goldChart.name)}}function Ti(n,e){if(n&1){let o=Ze();s(0,"button",7),S("click",function(){ue(o);let i=x();return fe(i.navLinks.showProfile.action())}),s(1,"mat-icon"),c(2),a(),c(3),a(),s(4,"button",8),S("click",function(){ue(o);let i=x();return fe(i.navLinks.logout.action())}),s(5,"mat-icon"),c(6),a(),c(7),a()}if(n&2){let o=x();l(2),p(o.navLinks.showProfile.icon),l(),p(o.navLinks.showProfile.name),l(3),p(o.navLinks.logout.icon),l(),p(o.navLinks.logout.name)}}var di=(()=>{let e=class e{constructor(t,i,r,m){this.authService=t,this.router=i,this.location=r,this.viewModal=m,this.navLinks={login:{name:"\u0110\u0103ng nh\u1EADp",route:"/",icon:"login"},goldChart:{name:"Bi\u1EC3u \u0111\u1ED3 v\xE0ng",route:"/gold-chart",icon:"paid"},showProfile:{name:"H\u1ED3 s\u01A1 c\xE1 nh\xE2n",action:()=>this.openCurrentUserModal(),icon:"account_circle"},logout:{name:"\u0110\u0103ng xu\u1EA5t",action:()=>this.logout(),icon:"logout"}}}logout(){this.authService.logout(),this.router.navigateByUrl("/",{replaceUrl:!0}).then(()=>{this.location.replaceState("/")})}openCurrentUserModal(){let t={title:Ot.ViewCurrentUserProfileTitle,mode:At.View,closeButtonLabel:"Close Profile"};this.viewModal.open(ce,{disableClose:!0,width:"40%",height:"80%",enterAnimationDuration:"300ms",exitAnimationDuration:"300ms",data:t})}};e.\u0275fac=function(i){return new(i||e)(d(y),d(E),d(Q),d(Nt))},e.\u0275cmp=f({type:e,selectors:[["app-header"]],standalone:!0,features:[g],decls:7,vars:3,consts:[[1,"header","u-padding-bottom-small","u-padding-top-small"],[3,"classLogoSize"],[1,"divider"],[1,"header__actions"],[1,"header__current-role"],[1,"btn","btn--grad","btn--with-icon",3,"routerLink"],[1,"btn","btn--primary-dark","btn--with-icon",3,"routerLink"],[1,"btn","btn--primary-dark","btn--with-icon",3,"click"],[1,"btn","btn--grad","btn--with-icon",3,"click"]],template:function(i,r){i&1&&(s(0,"header",0),u(1,"app-logo",1)(2,"span",2),_(3,Ni,3,1),s(4,"nav",3),_(5,Fi,8,6)(6,Ti,8,4),a()()),i&2&&(l(),h("classLogoSize","logo--big"),l(2),P(3,r.authService.currentUser()?3:-1),l(2),P(5,r.authService.currentUser()?6:5))},dependencies:[$,le,I,R],styles:[".header[_ngcontent-%COMP%]{padding-right:2.4rem;padding-left:2.4rem;display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:100%;height:10rem;flex-wrap:nowrap;gap:4.5rem}.header__actions[_ngcontent-%COMP%]{display:flex;gap:1.2rem}.header__actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{flex:0 1 auto}.header__current-role[_ngcontent-%COMP%]{font-size:1.8rem;text-transform:uppercase;letter-spacing:.4rem;font-weight:800;color:#f5f5f4;padding:0 1.2rem;line-height:4.8rem;border-radius:4px;border:2px solid #fb923c;position:relative;background:#ea580c;box-shadow:#f9731659 5px 5px,#f9731640 10px 10px,#f9731626 15px 15px,#f973160d 20px 20px,#f9731608 25px 25px}"]});let n=e;return n})();var ui=(()=>{let e=class e{constructor(t,i){this.basketService=t,this.authService=i}ngOnInit(){this.loadBasketOnBasketIdLocalStorage()}loadBasketOnBasketIdLocalStorage(){if([v.Cashier,v.Seller,v.Repurchaser].includes(this.authService.currentUser()?.role)&&this.authService.token!=null){let r=this.basketService.currentBasketIdLocalStorage;r&&this.basketService.loadBasketById(r)}}};e.\u0275fac=function(i){return new(i||e)(d(Vt),d(y))},e.\u0275cmp=f({type:e,selectors:[["app-root"]],standalone:!0,features:[g],decls:5,vars:0,consts:[["type","ball-clip-rotate"]],template:function(i,r){i&1&&(u(0,"ngx-spinner",0)(1,"app-header"),s(2,"main"),u(3,"router-outlet"),a(),u(4,"app-footer"))},dependencies:[ct,di,mi,ai,ri]});let n=e;return n})();at(ui,pi).catch(n=>console.error(n));
