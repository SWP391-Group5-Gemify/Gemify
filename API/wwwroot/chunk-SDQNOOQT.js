import{a as s}from"./chunk-QVLUA4QC.js";import{a as f}from"./chunk-J3BG4ZKK.js";import{a as p,b as u}from"./chunk-Y2G3PEDF.js";import{D as o,a as g,b as c,la as l,ra as h}from"./chunk-5JFLDQZH.js";var U=(()=>{let i=class i{constructor(t){this.httpClient=t,this.baseProductUrl=f.baseApiUrl.concat("/products")}getProducts(t){let e=new p().set("pageIndex",t.pageIndex.toString()).set("pageSize",t.pageSize.toString());return t.searchName&&(e=e.set("search",t.searchName)),t.goldTypeId&&(e=e.set("goldTypeId",t.goldTypeId.toString())),t.subCategoryId&&(e=e.set("subcategoryId",t.subCategoryId.toString())),t.categoryId&&(e=e.set("categoryId",t.categoryId.toString())),t.status&&(e=e.set("status",t.status)),t.sortQuantity&&(e=e.set("sort",t.sortQuantity)),this.httpClient.get(this.baseProductUrl,{params:e}).pipe(o(r=>(r.data.forEach(a=>{a.imageUrl=s.concatLinkToTokenFirebase(a.imageUrl)}),r)))}getProductById(t){return this.httpClient.get(`${this.baseProductUrl}/${t}/`).pipe(o(e=>c(g({},e),{imageUrl:s.concatLinkToTokenFirebase(e.imageUrl)})))}getCategories(){return this.httpClient.get(this.baseProductUrl.concat("/categories"))}getSubCategories(){return this.httpClient.get(this.baseProductUrl.concat("/categories")).pipe(o(t=>t.reduce((e,r)=>e.concat(r.subCategories),[])))}updateProduct(t){return this.httpClient.put(`${this.baseProductUrl}/${t.id}`,t)}disableProduct(t){return this.httpClient.delete(`${this.baseProductUrl}/${t}`)}};i.\u0275fac=function(e){return new(e||i)(h(u))},i.\u0275prov=l({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();export{U as a};
