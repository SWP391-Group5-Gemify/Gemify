<!-- Cart icon -->

<!-- Search Product, Filter Product Name,  Categories, Subcategory -->
<section class="flex">

  <!-- Filter on Names -->
  <app-generic-search #nameSearchInputRef
                      label="Tìm kiếm theo tên"
                      (onValueChanges)="onValueChangesNameFromParent($event)">
  </app-generic-search>

  <!-- Filter on Sub Categories -->
  <app-generic-dropdown #subCategoriesDropdownRef
                        label="Chọn loại trang sức"
                        [options]="subCategoriesDropdown"
                        (onSelectionChange)="onSelectChangeSubCategoryIdFromParent($event)">
  </app-generic-dropdown>

  <!-- Filter on Golds -->
  <app-generic-dropdown #goldsDropdownRef
                        label="Chọn loại vàng"
                        [options]="goldsDropdown"
                        (onSelectionChange)="onSelectChangeGoldIdFromParent($event)">
  </app-generic-dropdown>

  <!-- Filter on Sort Criteria -->
  <app-generic-dropdown #sortsCriteriaDropdownRef
                        label="Sắp xếp số lượng"
                        [options]="sortsCriteriaDropdown"
                        (onSelectionChange)="onSelectChangeSortQuantityFromParent($event)">
  </app-generic-dropdown>

  <!-- Reset all input element -->
  <button class="btn btn--primary"
          (click)="onResetFilters()"
          color="accent">Xóa bộ lọc</button>

</section>

<!-- Paginator -->
<mat-paginator [length]="totalProducts"
               [pageSize]="productSearchCriteria.pageSize"
               [pageSizeOptions]="[5, 10, 25, 100]"
               (page)="onPageChange($event)"
               aria-label="Select page">
</mat-paginator>


<!-- List of Product -->
<!-- - Using @for too loop through the cards -->
<section class="grid grid--responsive u-margin-top-small">
  @for (product of products$ | async; track $index) {
  <app-card-product [product]="product"></app-card-product>
  }
</section>